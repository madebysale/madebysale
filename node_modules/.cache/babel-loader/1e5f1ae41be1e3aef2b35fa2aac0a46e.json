{"ast":null,"code":"import _regeneratorRuntime from \"/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/src/app/contexts/BrandContext.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'LOAD_BRANDS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          brands: action.payload\n        });\n      }\n\n    case 'DELETE_BRANDS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          brands: action.payload\n        });\n      }\n\n    case 'CLEAR_BRANDS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          brands: action.payload\n        });\n      }\n\n    default:\n      {\n        return _objectSpread({}, state);\n      }\n  }\n};\n\nvar BrandContext = /*#__PURE__*/createContext({\n  brands: [],\n  deleteBrand: function deleteBrand() {},\n  clearBrands: function clearBrands() {},\n  getBrands: function getBrands() {},\n  createBrand: function createBrand() {}\n});\nexport var BrandProvider = function BrandProvider(_ref) {\n  _s();\n\n  var settings = _ref.settings,\n      children = _ref.children;\n\n  var _useReducer = useReducer(reducer, []),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var deleteBrand = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(brandID) {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('/api/notification/delete', {\n                id: brandID\n              });\n\n            case 3:\n              res = _context.sent;\n              dispatch({\n                type: 'DELETE_BRANDS',\n                payload: res.data\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function deleteBrand(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var clearBrands = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('/api/notification/delete-all');\n\n            case 3:\n              res = _context2.sent;\n              dispatch({\n                type: 'CLEAR_BRANDS',\n                payload: res.data\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function clearBrands() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var getBrands = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.post('http://localhost:3000/api/admin/listbrand');\n\n            case 3:\n              res = _context3.sent;\n              dispatch({\n                type: 'LOAD_BRANDS',\n                payload: res.data.data.ListstockbrandsResponce\n              });\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function getBrands() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var createBrand = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(brand) {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios.post('/api/notification/add', {\n                brand: brand\n              });\n\n            case 3:\n              res = _context4.sent;\n              dispatch({\n                type: 'CREATE_BRAND',\n                payload: res.data\n              });\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function createBrand(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getBrands();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BrandContext.Provider, {\n    value: {\n      brands: state.brands,\n      deleteBrand: deleteBrand,\n      clearBrands: clearBrands,\n      getBrands: getBrands,\n      createBrand: createBrand\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(BrandProvider, \"8u/JqpRC/mF6XFjbMf7O0gRQXow=\");\n\n_c = BrandProvider;\nexport default BrandContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"BrandProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useReducer","axios","reducer","state","action","type","brands","payload","BrandContext","deleteBrand","clearBrands","getBrands","createBrand","BrandProvider","settings","children","dispatch","brandID","post","id","res","data","console","error","ListstockbrandsResponce","brand"],"sources":["/home/iss/Downloads/POS_ADMIN_2/POS_ADMIN1/src/app/contexts/BrandContext.js"],"sourcesContent":["import React, { createContext, useEffect, useReducer } from 'react'\nimport axios from 'axios'\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'LOAD_BRANDS': {\n            return {\n                ...state,\n                brands: action.payload,\n            }\n        }\n        case 'DELETE_BRANDS': {\n            return {\n                ...state,\n                brands: action.payload,\n            }\n        }\n        case 'CLEAR_BRANDS': {\n            return {\n                ...state,\n                brands: action.payload,\n            }\n        }\n        default: {\n            return { ...state }\n        }\n    }\n}\n\nconst BrandContext = createContext({\n    brands: [],\n    deleteBrand: () => { },\n    clearBrands: () => { },\n    getBrands: () => { },\n    createBrand: () => { },\n})\n\nexport const BrandProvider = ({ settings, children }) => {\n    const [state, dispatch] = useReducer(reducer, [])\n\n    const deleteBrand = async (brandID) => {\n        try {\n            const res = await axios.post('/api/notification/delete', {\n                id: brandID,\n            })\n            dispatch({\n                type: 'DELETE_BRANDS',\n                payload: res.data,\n            })\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const clearBrands = async () => {\n        try {\n            const res = await axios.post('/api/notification/delete-all')\n            dispatch({\n                type: 'CLEAR_BRANDS',\n                payload: res.data,\n            })\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const getBrands = async () => {\n        try {\n            const res = await axios.post('http://localhost:3000/api/admin/listbrand')\n            dispatch({\n                type: 'LOAD_BRANDS',\n                payload: res.data.data.ListstockbrandsResponce,\n            })\n        } catch (e) {\n            console.error(e)\n        }\n    }\n    const createBrand = async (brand) => {\n        try {\n            const res = await axios.post('/api/notification/add', {\n                brand,\n            })\n            dispatch({\n                type: 'CREATE_BRAND',\n                payload: res.data,\n            })\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    useEffect(() => {\n        getBrands()\n    }, [])\n    return (\n        <BrandContext.Provider\n            value={{\n                brands: state.brands,\n                deleteBrand,\n                clearBrands,\n                getBrands,\n                createBrand,\n            }}\n        >\n            {children}\n        </BrandContext.Provider>\n    )\n}\n\nexport default BrandContext\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}